@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 258 38% 5%;
    /* #0B0812 */
    --foreground: 269 100% 95%;
    /* #F3E8FF */
    --primary: 271 91% 65%;
    /* #A855F7 */
    --primary-dark: 263 67% 35%;
    /* #4C1D95 */
    --primary-light: 269 100% 95%;
    /* #F3E8FF */
    --secondary: 263 67% 35%;
    /* #4C1D95 */
  }

  html.lenis {
    height: auto;
  }

  .lenis.lenis-smooth {
    scroll-behavior: auto;
  }

  .lenis.lenis-smooth [data-lenis-prevent] {
    overscroll-behavior: contain;
  }

  .lenis.lenis-stopped {
    overflow: hidden;
  }

  .lenis.lenis-scrolling iframe {
    pointer-events: none;
  }

  body {
    @apply bg-background text-foreground font-lexend antialiased overflow-x-hidden;
    background-image:
      linear-gradient(to right, rgba(76, 29, 149, 0.1) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(76, 29, 149, 0.1) 1px, transparent 1px);
    background-size: 40px 40px;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-extrabold uppercase tracking-tight;
  }
}

@layer components {
  .neo-container {
    @apply bg-card text-foreground p-6 shadow-neo border border-primary-dark/20;
  }

  .neo-brutal-card {
    @apply relative bg-card text-foreground p-6 transition-all duration-200 ease-in-out shadow-neo hover:-translate-y-1 hover:shadow-neo-hover border border-primary-dark/20;
  }

  .neo-card {
    @apply neo-brutal-card;
  }

  .neo-brutal-button {
    @apply inline-flex items-center justify-center rounded-md bg-primary px-8 py-3 text-lg font-black text-white uppercase tracking-widest shadow-neo transition-all duration-200 hover:-translate-y-1 hover:shadow-neo-hover active:translate-y-1 active:shadow-none;
  }

  .neo-button {
    @apply inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-bold text-white shadow-neo transition-all duration-200 hover:-translate-y-1 hover:shadow-neo-hover;
  }

  .neo-input {
    @apply w-full bg-card text-foreground p-4 font-bold outline-none transition-all focus:shadow-neo-hover placeholder:text-muted-foreground border border-primary-dark/20 rounded-md;
  }

  .marquee-container {
    @apply relative flex overflow-hidden py-4 bg-primary-dark text-white;
  }

  .marquee-content {
    @apply animate-marquee whitespace-nowrap text-4xl font-black uppercase mx-4;
  }

  .title-page {
    @apply fixed left-0 -bottom-32 origin-top-left -rotate-90 text-9xl font-extrabold text-primary-dark/10 z-0 select-none md:bottom-0 md:rotate-0 pointer-events-none;
  }

  /* Screen Effects */
  .scanlines {
    background: linear-gradient(to bottom,
        rgba(255, 255, 255, 0),
        rgba(255, 255, 255, 0) 50%,
        rgba(0, 0, 0, 0.2) 50%,
        rgba(0, 0, 0, 0.2));
    background-size: 100% 4px;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 9999;
    pointer-events: none;
    opacity: 0.05;
  }

  .grain {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 9998;
    pointer-events: none;
    opacity: 0.03;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  }
}

@keyframes marquee {
  0% {
    transform: translateX(0);
  }

  100% {
    transform: translateX(-100%);
  }
}

@keyframes text-fill {
  0% {
    background-size: 0% 100%;
  }

  100% {
    background-size: 100% 100%;
  }
}

.animate-marquee {
  animation: marquee 20s linear infinite;
}

.animate-text-fill {
  background: linear-gradient(to right, #A855F7, #A855F7) no-repeat 0 100%;
  background-size: 0% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  animation: text-fill 2s linear forwards;
  animation-timeline: view();
  animation-range: entry 50% cover 50%;
}

/* Pattern Styles */
.pattern-stripes {
  background-image: repeating-linear-gradient(45deg,
      transparent,
      transparent 10px,
      rgba(76, 29, 149, 0.1) 10px,
      rgba(76, 29, 149, 0.1) 20px);
}

.pattern-dots {
  background-image: radial-gradient(rgba(76, 29, 149, 0.15) 1px,
      transparent 1px);
  background-size: 20px 20px;
}

.pattern-checkerboard {
  background-image:
    linear-gradient(45deg, rgba(76, 29, 149, 0.1) 25%, transparent 25%),
    linear-gradient(-45deg, rgba(76, 29, 149, 0.1) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, rgba(76, 29, 149, 0.1) 75%),
    linear-gradient(-45deg, transparent 75%, rgba(76, 29, 149, 0.1) 75%);
  background-size: 20px 20px;
  background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
}

.pattern-waves {
  background-image: repeating-linear-gradient(0deg,
      transparent,
      transparent 8px,
      rgba(76, 29, 149, 0.08) 8px,
      rgba(76, 29, 149, 0.08) 16px);
}

.pattern-solid {
  background-image: none;
}

/* Magic Bento Styles */
.bento-section {
  --glow-x: 50%;
  --glow-y: 50%;
  --glow-intensity: 0;
  --glow-radius: 200px;
}

.card-responsive {
  grid-template-columns: 1fr;
  width: 90%;
  margin: 0 auto;
  padding: 0.5rem;
}

@media (min-width: 600px) {
  .card-responsive {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1024px) {
  .card-responsive {
    grid-template-columns: repeat(4, 1fr);
  }

  .card-responsive .card:nth-child(3) {
    grid-column: span 2;
    grid-row: span 2;
  }

  .card-responsive .card:nth-child(4) {
    grid-column: 1 / span 2;
    grid-row: 2 / span 2;
  }

  .card-responsive .card:nth-child(6) {
    grid-column: 4;
    grid-row: 3;
  }
}

.card--border-glow::after {
  content: '';
  position: absolute;
  inset: 0;
  padding: 6px;
  background: radial-gradient(var(--glow-radius) circle at var(--glow-x) var(--glow-y),
      rgba(var(--glow-color), calc(var(--glow-intensity) * 0.8)) 0%,
      rgba(var(--glow-color), calc(var(--glow-intensity) * 0.4)) 30%,
      transparent 60%);
  border-radius: inherit;
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask-composite: exclude;
  pointer-events: none;
  opacity: 1;
  transition: opacity 0.3s ease;
  z-index: 10;
}

.card--border-glow:hover::after {
  opacity: 1;
}

.card--border-glow:hover {
  box-shadow: 0 4px 20px rgba(46, 24, 78, 0.4), 0 0 30px rgba(var(--glow-color), 0.2);
}

.particle::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: rgba(var(--glow-color), 0.2);
  border-radius: 50%;
  z-index: -1;
}

.particle-container:hover {
  box-shadow: 0 4px 20px rgba(46, 24, 78, 0.2), 0 0 30px rgba(var(--glow-color), 0.2);
}

.text-clamp-1 {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
  line-clamp: 1;
  overflow: hidden;
  text-overflow: ellipsis;
}

.text-clamp-2 {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  overflow: hidden;
  text-overflow: ellipsis;
}

@media (max-width: 599px) {
  .card-responsive {
    grid-template-columns: 1fr;
    width: 90%;
    margin: 0 auto;
    padding: 0.5rem;
  }

  .card-responsive .card {
    width: 100%;
    min-height: 180px;
  }
}